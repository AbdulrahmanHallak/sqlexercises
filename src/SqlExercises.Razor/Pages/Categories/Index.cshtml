@page
@model IndexModel
@{
    ViewData["Title"] = "Categories";
}

<h2>Categories</h2>
@if (Model.IsAdmin)
{
    <button id="showCreateCategory" class="btn btn-success mb-3" type="button">Create New Category</button>
    <form id="createCategoryForm" method="post" style="display:none;" class="mb-3">
        <div class="input-group">
            <input name="NewCategoryName" class="form-control" placeholder="Category name" maxlength="50" required />
            <button type="submit" class="btn btn-primary">Add</button>
        </div>
    </form>
    <script>
        document.getElementById('showCreateCategory').addEventListener('click', function() {
            var form = document.getElementById('createCategoryForm');
            form.style.display = form.style.display === 'none' ? 'block' : 'none';
        });
    </script>
}
<ul class="list-group">
    @foreach (var category in Model.Categories)
    {
        <li class="list-group-item d-flex justify-content-between align-items-center">
            <span>
                <a asp-page="/Categories/Exercises/Index" asp-route-category="@category">
                    @category
                </a>
            </span>
        </li>
    }
</ul>
